<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FlappyBird</title>
</head>
<body>
<script src="load_res.js"></script>
<script>
    var res = [
        {name: "bird", path: "../res/birds.png"},
        {name: "land", path: "../res/land.png"},
        {name: "pipe1", path: "../res/pipe1.png"},
        {name: "pipe2", path: "../res/pipe2.png"},
        {name: "sky", path: "../res/sky.png"}
    ];

    loadRes(res, function (imgs) {

        // 用于记录上一帧绘制时的时间
        var lastTime = Date.now();
//        setInterval(function(){
//            var nowTime = Date.now();
//            var dt = nowTime - lastTime;
//            lastTime = nowTime;
//
//            console.log(dt);
//
//        },16.67)

        // 主循环函数，每隔16.67毫秒执行一次
        function mainLoop() {
            var nowTime = Date.now();
            var dt = nowTime - lastTime;
            lastTime = nowTime;
            console.log(dt);

            // 定时下一次执行mainLoop函数
            requestAnimationFrame(mainLoop)
        }
        // 在浏览器觉得合适时，调用mainLoop这个函数
        requestAnimationFrame(mainLoop)

    })

</script>
</body>
</html>
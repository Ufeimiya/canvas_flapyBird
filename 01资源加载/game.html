<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FlappyBird</title>
</head>
<body>
<script>
    var res = [
        {name:"bird",path:"../res/birds.png"},
        {name:"land",path:"../res/land.png"},
        {name:"pipe1",path:"../res/pipe1.png"},
        {name:"pipe2",path:"../res/pipe2.png"},
        {name:"sky",path:"../res/sky.png"}
    ];

    function main(){
        console.log('主程序执行')
    }
    var count = 0; // 计数变量
    function loadHandler(){
        count ++;
        if(count>=res.length){
            main();
        }
    };
    for(var i=0;i<res.length;i++){
        var img = new Image();
        img.src = res[i].path;
        img.addEventListener('load',function(){
            loadHandler();
        })
    }

</script>
</body>
</html>